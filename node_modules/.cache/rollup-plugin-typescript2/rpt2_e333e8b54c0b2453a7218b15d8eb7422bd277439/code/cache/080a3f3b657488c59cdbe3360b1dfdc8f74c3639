{"code":"import { TrackerConfig } from \"../types/index\";\nimport { createHistoryEvent } from \"../utils/pv\";\nexport default class Tracker {\n    constructor(options) {\n        this.data = Object.assign(this.initDef(), options);\n        this.installTracker();\n    }\n    initDef() {\n        window.history['pushState'] = createHistoryEvent('pushState');\n        window.history['replaceState'] = createHistoryEvent('replaceState');\n        return {\n            sdkVersion: TrackerConfig.version,\n            historyTracker: false,\n            hashTracker: false,\n            domTracker: false,\n            jsError: false,\n        };\n    }\n    captureEvents(eventList, targetKey, data) {\n        eventList.forEach(event => {\n            window.addEventListener(event, () => {\n                console.log('监听到了');\n            });\n        });\n    }\n    //根据用户的参数来判断是否监听history和hash\n    installTracker() {\n        if (this.data.historyTracker) {\n            this.captureEvents(['pushState', 'replaceState', 'popstate'], 'history-pv');\n        }\n    }\n}\n","references":["E:/面试项目/data-tracker/src/types/index.ts","E:/面试项目/data-tracker/src/utils/pv.ts"]}
